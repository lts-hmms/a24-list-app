let pokedex=function(){let e=[];function t(){document.querySelector(".load").remove()}function i(t){if("object"!=typeof t||!("name"in t))return"invalid input";e.push(t)}function n(){return e}let a=()=>{let e,n,a;return e=document.querySelector("body"),(n=document.createElement("div")).setAttribute("class","load"),(a=document.createElement("img")).src="https://www.sketchup.com/sites/www.sketchup.com/modules/license_wizard_green/images/loading.gif",n.appendChild(a),e.appendChild(n),fetch("https://pokeapi.co/api/v2/pokemon/?limit=42").then(e=>{if(t(),!e.ok)throw Error(`Status Code Error: ${e.status}`);return e.json()}).then(e=>{e.results.forEach(e=>{let t={name:e.name.toUpperCase(),detailsUrl:e.url};i(t),console.log(t)})}).catch(e=>{t(),console.error(e)})},l=e=>fetch(e.detailsUrl).then(e=>{if(!e.ok)throw Error(`Status Code Error: ${e.status}`);return e.json()}).then(t=>{e.name=t.name,e.id=t.id,e.imgUrl=t.sprites.front_default,e.height=t.height/10,e.weight=t.weight/10,e.abilities=t.abilities.map(e=>e.ability.name).join(", "),e.types=t.types.map(e=>e.type.name).join(", ")}).catch(e=>{console.error(e)});function o(e){let t=$(".modal-body"),i=$(".modal-title");i.empty(),t.empty();let n=$("<h5>#"+e.id+"</h5>"),a=$("<h3>"+e.name.toUpperCase()+"</h3>"),l=$('<img class="modal-img" style="width:50%">');l.attr("src",e.imgUrl);let o=$("<p>Height: "+e.height+" m</p>"),r=$("<p>Weight: "+e.weight+" kg</p>"),d=$("<p>Abilities: "+e.abilities+"</p>");i.append(n),i.append(a),t.append(l),t.append(o),t.append(r),t.append(d)}return document.getElementById("input").addEventListener("keyup",function(t){let i=t.target.value.toLowerCase(),n=e.filter(e=>{if(!e.name.includes(i))return e}),a=e.filter(e=>{if(e.name.includes(i))return e});n.map(e=>{document.getElementById(e.name).classList.add("hidden")}),a.map(e=>{document.getElementById(e.name).classList.remove("hidden")})}),{add:i,getAll:n,addListItem:function e(t){l(t).then(function(){let e=document.querySelector(".pokemon-list"),i=document.createElement("button");i.innerText=t.name.toUpperCase(),i.classList.add("myButton","btn"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pokeModal"),i.setAttribute("id",t.name,"pokemon-title");let n=document.createElement("img");n.setAttribute("src",t.imgUrl),i.appendChild(n),e.appendChild(i),i.addEventListener("click",function(){(function e(t){l(t).then(function(){console.log(t),o(t)})})(t)})})},loadList:a,loadDetails:l,showModal:o}}();pokedex.loadList().then(function(){pokedex.getAll().forEach(function(e){pokedex.addListItem(e)})});